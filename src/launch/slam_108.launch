<launch>
        <!-- vim: set ft=xml noet : -->
        <!-- example launch script for ArduPilot based FCU's -->

        <arg name="fcu_url" default="/dev/ttyS0:57600" />
        <arg name="gcs_url" default="udp://192.168.0.108:14445@" />
        <arg name="tgt_system" default="108" />
        <arg name="tgt_component" default="1" />
        <arg name="log_output" default="screen" />
        <arg name="fcu_protocol" default="v2.0" />
        <arg name="respawn_mavros" default="true" />


	<include file="$(find mavros)/launch/node.launch">
                <arg name="pluginlists_yaml" value="$(find mavros)/launch/apm_pluginlists.yaml" />
                <arg name="config_yaml" value="/root/catkin_ws/src/launch/apm_config.yaml" />

                <arg name="fcu_url" value="$(arg fcu_url)" />
                <arg name="gcs_url" value="$(arg gcs_url)" />
                <arg name="tgt_system" value="$(arg tgt_system)" />
                <arg name="tgt_component" value="$(arg tgt_component)" />
                <arg name="log_output" value="$(arg log_output)" />
                <arg name="fcu_protocol" value="$(arg fcu_protocol)" />
                <arg name="respawn_mavros" value="$(arg respawn_mavros)" />
        </include>

        <include file="$(find ldlidar_stl_ros)/launch/ld19.launch"> </include>

        <include file="$(find cartographer_ros)/launch/cartographer.launch"> 
         	<remap from="odom" to="/mavros/local_position/odom" />


	</include>

        <include file="$(find usb_cam)/launch/usb_cam-test.launch"> </include>
	
	  <node pkg="topic_tools" type="relay" name="mavros_imu__2__imu" output="screen"
        args="/mavros/imu/data /imu _queue_size:=5" />
	
	  <node pkg="mavros" type="mavsys" name="mavsys_rate_all"
        args="rate --all 20" output="screen" />

</launch>
